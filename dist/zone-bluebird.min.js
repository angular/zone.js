!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(this,function(){"use strict";Zone.__load_patch("bluebird",function(n,t,e){var o="bluebird";t[t.__symbol__(o)]=function(o){var r=["then","spread","finally"];r.forEach(function(n){e.patchMethod(o.prototype,n,function(n){return function(e,r){for(var i=t.current,c=function(n){var t=r[n];"function"==typeof t&&(r[n]=function(){var n=this,e=arguments;return new o(function(o,r){i.scheduleMicroTask("Promise.then",function(){try{o(t.apply(n,e))}catch(i){r(i)}})})})},u=0;u<r.length;u++)c(u);return n.apply(e,r)}})}),o.onPossiblyUnhandledRejection(function(n,o){try{t.current.runGuarded(function(){throw n})}catch(r){e.onUnhandledError(r)}}),n[e.symbol("ZoneAwarePromise")]=o}})});